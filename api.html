
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Python API &#8212; aCLImatise 0.0.16 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Command Line Interface" href="cli.html" />
    <link rel="prev" title="Installation" href="installation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-acclimatise">
<span id="python-api"></span><h1>Python API<a class="headerlink" href="#module-acclimatise" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="acclimatise.best_cmd">
<code class="sig-prename descclassname">acclimatise.</code><code class="sig-name descname">best_cmd</code><span class="sig-paren">(</span><em class="sig-param">cmd: List[str], flags: Iterable[str] = (['--help'], ['-h'], [], ['--usage']), executor: acclimatise.execution.Executor = &lt;acclimatise.execution.local.LocalExecutor object&gt;</em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="model.html#acclimatise.model.Command" title="acclimatise.model.Command">acclimatise.model.Command</a><a class="headerlink" href="#acclimatise.best_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the best Command instance for a given command line tool, by trying many
different help flags, such as –help and -h, then return the Command. Use this if you know the command you want to
parse, but you don’t know which flags it responds to with help text. Unlike <code class="xref py py-func docutils literal notranslate"><span class="pre">aclimatise.explore_command()</span></code>,
this doesn’t even attempt to parse subcommands.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> – The command to analyse, e.g. [‘wc’] or [‘bwa’, ‘mem’]</p></li>
<li><p><strong>flags</strong> – A list of help flags to try, e.g. [‘–help’, ‘-h’], in order how which one you would prefer to use.</p></li>
</ul>
</dd>
</dl>
<p>Generally [] aka no flags should be last
:param executor: A class that provides the means to run a command. You can use the pre-made classes or write your own.</p>
</dd></dl>

<dl class="py function">
<dt id="acclimatise.explore_command">
<code class="sig-prename descclassname">acclimatise.</code><code class="sig-name descname">explore_command</code><span class="sig-paren">(</span><em class="sig-param">cmd: List[str], flags: Iterable[str] = (['--help'], ['-h'], [], ['--usage']), parent: Optional[acclimatise.model.Command] = None, max_depth: int = 2, try_subcommand_flags=True, executor: acclimatise.execution.Executor = &lt;acclimatise.execution.local.LocalExecutor object&gt;</em><span class="sig-paren">)</span> &#x2192; Optional<span class="p">[</span><a class="reference internal" href="model.html#acclimatise.model.Command" title="acclimatise.model.Command">acclimatise.model.Command</a><span class="p">]</span><a class="headerlink" href="#acclimatise.explore_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a command to start with, builds a model of this command and all its subcommands (if they exist).
Use this if you know the command you want to parse, you don’t know which flags it responds to with help text, and
you want to include subcommands.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> – Command line executable and arguments to explore</p></li>
<li><p><strong>flags</strong> – A list of help flags to try, e.g. [‘–help’, ‘-h’], in order how which one you would prefer to use.</p></li>
</ul>
</dd>
</dl>
<p>Generally [] aka no flags should be last
:param parent: A parent Command to add this command to as a subcommand, if this command actually exists
:param executor: A class that provides the means to run a command. You can use the pre-made classes or write your own.
:param try_subcommand_flags: If true, try all the <code class="docutils literal notranslate"><span class="pre">flags</span></code> on each subcommand. If False, we choose
the best help flag on the parent command and then use that same one on each child. Generally True is recommended
since some tools (such as bedtools) use different help flags for subcommands</p>
</dd></dl>

<dl class="py function">
<dt id="acclimatise.parse_help">
<code class="sig-prename descclassname">acclimatise.</code><code class="sig-name descname">parse_help</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span><span class="p">:</span> <span class="n">Collection<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">text</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">parse_positionals</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="model.html#acclimatise.model.Command" title="acclimatise.model.Command">acclimatise.model.Command</a><a class="headerlink" href="#acclimatise.parse_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a string of help text into a Command. Use this if you already have run the executable and extracted the
help text yourself</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> – List of arguments used to generate this help text, e.g. [‘bwa’, ‘mem’]</p></li>
<li><p><strong>text</strong> – The help text to parse</p></li>
<li><p><strong>parse_positionals</strong> – If false, don’t parse positional arguments</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">aCLImatise</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="grammar.html">Grammar</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="installation.html" title="previous chapter">Installation</a></li>
      <li>Next: <a href="cli.html" title="next chapter">Command Line Interface</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Michael Milton.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>